Этот FAQ создан для версии 3.3.4. Последнее обновление 130420.

# Общие вопросы 

## Где брать ключ для бота сообщества

 1. Заходим в настройки сообщества
 2. Открываем "Работа с API"
 3. Во вкладке "Ключи доступа" нажимаем на синюю кнопку справа "Создать ключ"
 4. В открывшемся попапе выбираем необходимые права доступа. Минимальные достаточные права для обмена сообщениями смотрите в пункте FAQ "Ошибка 'Access denied: no access to call this method'"

##  Как установить права для бота в сообществе
 1. Переходим во вкладку "Callback API", если вам надо настроить получение сообщений через callback. 
 1.1. Во вкладке "Настройки сервера" в "Версия API" выбираем последнюю версию.
 1.2 Во вкладке "Типы событий" поставьте необходимые события. (TODO: уточнить для чего какие типы событий надо)
 2. Переходим во вкладку "Long Poll API". Это рекомендуемый метод общения с VK.
 2.1 Вкладка "Настройки":
 2.1.1 Надо включить Long Poll API
 2.1.2 Надо выбрать последнюю версию API
 
## Как получить картинку
TODO
## Как отправить картинку
TODO
## Heroku и Long Poll
В procfile прописывайте `worker: node <app_name>`.
Если не работает, скачайте Heroku CLI и пропишите `heroku logs -a <app_name>`.
Если вылетает и воркер не существует, то `heroku scale -a <app_name> worker=1`.
## Heroku и Webhooks
Необходимо задавать порт следующим образом: process.env.PORT || 3000. Поле "port" оставлять пустым.
## Я не нашел ответа на мой вопрос
Бывает и такое! Вы можете спросить в [чате сообщества](https://tele.click/joinchat/BXuo0kxMRNVyfdKKjMHpQQ)
Ещё можно создать [ишью в github](https://github.com/node-vk-bot-api/node-vk-bot-api/issues)

# Ошибки
## Не выводятся ошибки
Чтобы получить ошибку от API VK, надо в файл /node_modules/node-vk-bot-api/lib/api.js добавить строку с *console.log(error)* перед *if (data.error) {*
## Ошибка 'Rate limit reached'
**Код ошибки: 29**
Вероятно VK заблокировал ваш ip адрес из-за слишком частых попыток обращения.
Попробуйте через некоторое время.
## Ошибка 'Access denied: no access to call this method'
**Код ошибки: 15**
Тут проблема в недостатке прав. Минимальные необходимые права для чтения и отправки сообщений:

 - Разрешить доступ к управлению сообществом
 - Разрешить доступ к сообщениям сообщества
 
## Ошибка 'User authorization failed: no access_token passed'
**Код ошибки: 5**
Проверьте, задали вы токен или нет.